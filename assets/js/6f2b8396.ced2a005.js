"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3497],{731:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>m,default:()=>g,frontMatter:()=>h,metadata:()=>a,toc:()=>b});const a=JSON.parse('{"id":"examples/guides/orbbec-component","title":"Orbbec camera component","description":"AICA\'s orbbec package includes support for a range of Orbbec camera models, including:","source":"@site/core/examples/guides/orbbec-component.md","sourceDirName":"examples/guides","slug":"/examples/guides/orbbec-component","permalink":"/core/examples/guides/orbbec-component","draft":false,"unlisted":false,"editUrl":"https://github.com/aica-technology/api/tree/main/core/core/examples/guides/orbbec-component.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"Orbbec camera component"},"sidebar":"studioSidebar","previous":{"title":"RealSense camera component","permalink":"/core/examples/guides/realsense-component"},"next":{"title":"Universal Robots","permalink":"/core/examples/guides/ur-harware-interface"}}');var r=t(4848),s=t(8453);t(5537),t(9329);const o=t.p+"assets/images/orbbec-mounted-udev-volume-20a7e1258f511bbd1805238be2635f8f.png",i=t.p+"assets/medias/orbbec-new-app-fd08701a353d248c70795973a6c9a43a.webm",l=t.p+"assets/medias/orbbec-play-rviz-87459608c1b13ec814457b81459a7db8.webm",c=t.p+"assets/images/orbbec-camera-parameters-4a9151737a2241d98869628b69375571.png",d=t.p+"assets/images/orbbec-threshold-params-9c918e4ae8581996ab8bd8fb892b99b9.png",u=t.p+"assets/medias/orbbec-package-52cad2c314fcd5e079c8550e84b3e09b.webm",h={sidebar_position:7,title:"Orbbec camera component"},m="Orbbec camera component",p={},b=[{value:"Installation",id:"installation",level:2},{value:"Creating and running the example",id:"creating-and-running-the-example",level:2},{value:"Parametrizing the Orbbec camera component",id:"parametrizing-the-orbbec-camera-component",level:2}];function f(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"orbbec-camera-component",children:"Orbbec camera component"})}),"\n",(0,r.jsxs)(n.p,{children:["AICA's ",(0,r.jsx)(n.code,{children:"orbbec"})," package includes support for a range of Orbbec camera models, including:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Gemini 33X"}),"\n",(0,r.jsx)(n.li,{children:"Gemini 435Le"}),"\n",(0,r.jsx)(n.li,{children:"Gemini 2/2L"}),"\n",(0,r.jsx)(n.li,{children:"Femto Bolt/Mega"}),"\n",(0,r.jsx)(n.li,{children:"Astra 2"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This guide describes all necessary steps to install, configure and run the component using AICA Studio."}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"For now, the Orbbec camera component has only been tested on Linux machines. Other platforms might be officially\nsupported in the future."})}),"\n",(0,r.jsx)(n.p,{children:"To ensure proper access to the camera device, special udev rules have to be applied to the Linux system the camera is\nconnected to. Run the following commands in a terminal:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"wget -O 99-obsensor-libusb.rules https://raw.githubusercontent.com/aica-technology/OrbbecSDK_ROS2/refs/tags/aica/v2.4.3/orbbec_camera/scripts/99-obsensor-libusb.rules\nsudo cp 99-obsensor-libusb.rules /etc/udev/rules.d/99-obsensor-libusb.rules\nsudo udevadm control --reload-rules && sudo udevadm trigger\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["These commands will download and apply the udev rules. To ensure that the rules have been applied correctly, the\n",(0,r.jsx)(n.a,{href:"https://github.com/orbbec/OrbbecSDK/releases",children:"Orbbec Viewer"})," can be used to check the camera feed."]})}),"\n",(0,r.jsxs)(n.p,{children:["Start the AICA Launcher and add the ",(0,r.jsx)(n.code,{children:"orbbec"})," package to your configuration."]}),"\n",(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,r.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{maxWidth:"100%",borderRadius:"8px"},children:[(0,r.jsx)("source",{src:u,type:"video/webm"}),(0,r.jsx)(n.p,{children:"Adding the Orbbec package."})]})}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.strong,{children:"Launch AICA Studio"})," to proceed."]}),"\n",(0,r.jsx)(n.h2,{id:"creating-and-running-the-example",children:"Creating and running the example"}),"\n",(0,r.jsx)(n.p,{children:"Start by creating a new application."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Remove the hardware interface that is included in new applications by default."}),"\n",(0,r.jsxs)(n.li,{children:["In the ",(0,r.jsx)(n.strong,{children:"Add components"})," section of the ",(0,r.jsx)(n.strong,{children:"Scene"})," tab, locate the ",(0,r.jsx)(n.strong,{children:"Orbbec Camera"})," component. Click to add to the\ngraph."]}),"\n",(0,r.jsxs)(n.li,{children:["Next, connect the component to the start block.","\n",(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,r.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{maxWidth:"100%",borderRadius:"8px"},children:[(0,r.jsx)("source",{src:i,type:"video/webm"}),(0,r.jsx)(n.p,{children:"Creating a new Orbbec Camera component."})]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Press ",(0,r.jsx)(n.strong,{children:"Start"})," to start the application."]}),"\n",(0,r.jsxs)(n.li,{children:["To see the live camera feed, click on the gear icon on the bottom right and select ",(0,r.jsx)(n.strong,{children:"Launch RViz"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["In RViz, select ",(0,r.jsx)(n.em,{children:"Add > By topic > /orbbec_camera/color_image > Image"}),". This adds a panel that shows the live color\nimage. The depth image can also be found under ",(0,r.jsx)(n.em,{children:"/orbbec_camera/depth_image > Image"}),".","\n",(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,r.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{maxWidth:"100%",borderRadius:"8px"},children:[(0,r.jsx)("source",{src:l,type:"video/webm"}),(0,r.jsx)(n.p,{children:"Starting and checking camera live stream."})]})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["In case the component does not produce a video stream, try mounting the ",(0,r.jsx)(n.code,{children:"/run/udev/"})," volume. In AICA Launcher, expand\nthe ",(0,r.jsx)(n.strong,{children:"Advanced Settings"})," at the bottom, select ",(0,r.jsx)(n.strong,{children:"Add a volume mount"})," and define the volume as shown below. If you\nstill encounter problems getting the video stream, contact the AICA support team."]}),(0,r.jsx)("div",{class:"text--center",children:(0,r.jsx)("img",{src:o,alt:"Mounted udev volume"})})]}),"\n",(0,r.jsx)(n.h2,{id:"parametrizing-the-orbbec-camera-component",children:"Parametrizing the Orbbec camera component"}),"\n",(0,r.jsxs)(n.p,{children:["Click on the ",(0,r.jsx)(n.code,{children:"Orbbec Camera"})," component block to view and edit the available parameters."]}),"\n",(0,r.jsx)("div",{class:"text--center",children:(0,r.jsx)("img",{src:c,alt:"Basic Orbbec camera parameters"})}),"\n",(0,r.jsx)(n.p,{children:"Hovering over the exclamation marks next to the names shows a detailed description of the corresponding parameter. Let's\nexplain some of these here:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Color/Depth Width/Height/FPS"}),": these refer to the resolution and frame rate of the color and depth images. Keep in\nmind that only specific pairs of integer values apply here. For more information check the camera's documentation."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"The Orbbec Viewer can also come in handy here, as it shows the available profiles for the connected camera."})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Enable Alignment"}),": flag that activates the spatial alignment of the depth image to the corresponding color image.\nGenerates a depth image with the same size as the color, with depth expressed in the color camera coordinate system."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Enable Threshold Filter"}),": flag that activates a threshold filter in the depth image. If activated, corresponding\nfilter parameters can be directly defined in the YAML editor to configure the filter behavior. To see what parameters\ncan be defined, read the description by hovering over the exclamation mark. ",(0,r.jsxs)("div",{class:"text--center",children:["\n",(0,r.jsx)("img",{src:d,alt:"Threshold filter tooltip parameters"})," "]})," If the additional parameters\nare not provided, default values will be used. For instance, activating and configuring the threshold filter would\nlook like this in the YAML editor:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"components:\n  orbbec_camera:\n    component: orbbec_camera::OBCameraNodeDriver\n    display_name: Orbbec Camera\n    parameters:\n      enable_threshold_filter: true\n      threshold_filter_max: 2000\n      threshold_filter_min: 500\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Click on ",(0,r.jsx)(n.strong,{children:"Generate Graph"})," to make the changes take effect. Start the application, launch RViz and add a panel for\nthe depth image. Only objects between 0.5 and 2 meters should appear. Keep in mind that most cameras have a minimum Z\ndepth; if the maximum threshold is set below this value, the image will appear blank, but noisy and arbitrarily\nsmall/large depth values may still be published. For more information about that, check the camera's documentation."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If needed, follow the same process to activate and configure other available filters."})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},5537:(e,n,t)=>{t.d(n,{A:()=>w});var a=t(6540),r=t(8215),s=t(5627),o=t(6347),i=t(372),l=t(604),c=t(1861),d=t(8749);function u(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:r}}=e;return{value:n,label:t,attributes:a,default:r}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const r=(0,o.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(s),(0,a.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function b(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,s=h(e),[o,l]=(0,a.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:s}))),[c,u]=p({queryString:t,groupId:r}),[b,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,s]=(0,d.Dv)(t);return[r,(0,a.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:r}),g=(()=>{const e=c??b;return m({value:e,tabValues:s})?e:null})();(0,i.A)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,s]),tabValues:s}}var f=t(9136);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(4848);function v(e){let{className:n,block:t,selectedValue:a,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const n=e.currentTarget,t=l.indexOf(n),r=i[t].value;r!==a&&(c(n),o(r))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:d,...s,className:(0,r.A)("tabs__item",g.tabItem,s?.className,{"tabs__item--active":a===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:s}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===s));return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=b(e);return(0,x.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,x.jsx)(v,{...n,...e}),(0,x.jsx)(j,{...n,...e})]})}function w(e){const n=(0,f.A)();return(0,x.jsx)(y,{...e,children:u(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var a=t(6540);const r={},s=a.createContext(r);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(s.Provider,{value:n},e.children)}},9329:(e,n,t)=>{t.d(n,{A:()=>o});t(6540);var a=t(8215);const r={tabItem:"tabItem_Ymn6"};var s=t(4848);function o(e){let{children:n,hidden:t,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,o),hidden:t,children:n})}}}]);