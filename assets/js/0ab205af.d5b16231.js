"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9826],{5537:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(6540),i=n(8215),o=n(5627),r=n(6347),s=n(372),l=n(604),c=n(1861),d=n(8749);function h(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:i}}=e;return{value:t,label:n,attributes:a,default:i}}))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function g(e){let{queryString:t=!1,groupId:n}=e;const i=(0,r.W6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(o),(0,a.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(i.location.search);t.set(o,e),i.replace({...i.location,search:t.toString()})}),[o,i])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:i}=e,o=u(e),[r,l]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:o}))),[c,h]=g({queryString:n,groupId:i}),[m,v]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[i,o]=(0,d.Dv)(n);return[i,(0,a.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:i}),f=(()=>{const e=c??m;return p({value:e,tabValues:o})?e:null})();(0,s.A)((()=>{f&&l(f)}),[f]);return{selectedValue:r,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),v(e)}),[h,v,o]),tabValues:o}}var v=n(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(4848);function x(e){let{className:t,block:n,selectedValue:a,selectValue:r,tabValues:s}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),d=e=>{const t=e.currentTarget,n=l.indexOf(t),i=s[n].value;i!==a&&(c(t),r(i))},h=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},t),children:s.map((e=>{let{value:t,label:n,attributes:o}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>{l.push(e)},onKeyDown:h,onClick:d,...o,className:(0,i.A)("tabs__item",f.tabItem,o?.className,{"tabs__item--active":a===t}),children:n??t},t)}))})}function w(e){let{lazy:t,children:n,selectedValue:o}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===o));return e?(0,a.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:r.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==o})))})}function y(e){const t=m(e);return(0,b.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,b.jsx)(x,{...t,...e}),(0,b.jsx)(w,{...t,...e})]})}function A(e){const t=(0,v.A)();return(0,b.jsx)(y,{...e,children:h(e.children)},String(t))}},6375:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>p,default:()=>f,frontMatter:()=>u,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"examples/guides/editor-example","title":"The application graph editor","description":"In the previous steps, an example application graph was generated from YAML. The graph can also be edited interactively","source":"@site/core_versioned_docs/version-v4/examples/guides/editor-example.md","sourceDirName":"examples/guides","slug":"/examples/guides/editor-example","permalink":"/core/v4/examples/guides/editor-example","draft":false,"unlisted":false,"editUrl":"https://github.com/aica-technology/api/tree/main/core/core_versioned_docs/version-v4/examples/guides/editor-example.md","tags":[],"version":"v4","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"The application graph editor"},"sidebar":"studioSidebar","previous":{"title":"A basic application example","permalink":"/core/v4/examples/guides/timer-example"},"next":{"title":"An application with hardware","permalink":"/core/v4/examples/guides/mock-hardware-example"}}');var i=n(4848),o=n(8453);const r=n.p+"assets/images/event-edge-eda3a5046cfc3508c236d2313ce84c4f.png",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAnCAYAAACWn7G7AAAABHNCSVQICAgIfAhkiAAAABl0RVh0U29mdHdhcmUAZ25vbWUtc2NyZWVuc2hvdO8Dvz4AAAAldEVYdENyZWF0aW9uIFRpbWUARG8gMTkgRGV6IDIwMjQgMTY6MjE6MTjWj11hAAAB7ElEQVRYhe3YTUsCQRgH8P9qJXsIdYnVo4V5iEA6KUb2CQrqEHTUe5co/Qh17ZSfQKhrfoUupazdXBIP4UE69IJJm+xLB1mpyHbcfQYJ/J924JnhxzC7MzvCymraAnNMvLw+O1YtLcZQODpAPp9nH5ohPtLROGeK5ZUpllcmik0kEgiFQvD52BgTxYqiCEEQmOtneCAkSWKqU1UV/X4fpmky1XPB7u5sIxgMOtZpmjbWuNyWQSqVQjKZJB2TGzYQCKBcLpOCuWDfHsMAAFmWScHk2KiYhXq1gcatAYAWTIqNillk5DNYpoDzY40cTIa1oXZMA+RgEuxPqB3TAEqFDzRuaMCesaOgdgzdQqlIA/aEdYLaGYA1z2DXWFaoHUOHZ7ArbFRcHwtqxwbfK9/B8Xicqb8rbOf9GvWnEzddsXc4h+U1/7BdLBbRbDaZ+rpeBq3u5djg/cIcMluzw3Yul0OlUmHu7+kFGwfsFQoQfLpYwBRQgGhT+AtMBQUIt9vfwJRQgPggMwCfAqCHAhyOiK3uBWKbCjkU4HT4Xkg8DJ+poADnX3EnaDqdRiQSgd/vH1nzNdyw1WrVcUY7nQ56vd5kf8WV+h2k8LxjXbvdhmEYsCy2K2IuM1urKUx1uq4zQ4HpxRy/TLG88q+wn+Je5UMXN6G7AAAAAElFTkSuQmCC";var l=n(5537),c=n(9329);const d=n.p+"assets/images/timer-settings-d82ae3ea76921b77d6a1c878aa521d7f.png",h=n.p+"assets/images/trigger-buttons-c845c05b3d4f67fd0ad4ebeffd18279f.gif",u={sidebar_position:2,title:"The application graph editor"},p="The application graph editor",g={},m=[{value:"Using the application graph editor",id:"using-the-application-graph-editor",level:2},{value:"Editing component settings",id:"editing-component-settings",level:2},{value:"Auto-lifecycle events",id:"auto-lifecycle-events",level:3},{value:"Setting component parameters",id:"setting-component-parameters",level:2},{value:"Adding and deleting elements",id:"adding-and-deleting-elements",level:2},{value:"Creating and deleting event edges",id:"creating-and-deleting-event-edges",level:2},{value:"Renaming elements in the graph",id:"renaming-elements-in-the-graph",level:2}];function v(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"the-application-graph-editor",children:"The application graph editor"})}),"\n",(0,i.jsx)(t.p,{children:"In the previous steps, an example application graph was generated from YAML. The graph can also be edited interactively\nand any changes will automatically be written back to the YAML representation."}),"\n",(0,i.jsx)(t.h2,{id:"using-the-application-graph-editor",children:"Using the application graph editor"}),"\n",(0,i.jsx)(t.p,{children:"Drag the background to pan the graph view and scroll to zoom in or out. Click the arrow icons on the central divider\non the page to expand either the code editor or graph view to full screen."}),"\n",(0,i.jsx)(t.p,{children:"You can also use the graph control buttons on the bottom left to zoom and fit the view. The mini-map on the bottom right\ncan also be used to navigate around the graph."}),"\n",(0,i.jsx)(t.h2,{id:"editing-component-settings",children:"Editing component settings"}),"\n",(0,i.jsx)(t.p,{children:"Component parameters and settings can be edited directly from the graph view. Click on the gear icon of the first Timer\ncomponent to open its settings panel. The settings panel can be closed with the X or by clicking anywhere in the graph."}),"\n",(0,i.jsx)("div",{class:"text--center",children:(0,i.jsx)("img",{src:d,alt:"Timer settings"})}),"\n",(0,i.jsx)(t.h3,{id:"auto-lifecycle-events",children:"Auto-lifecycle events"}),"\n",(0,i.jsxs)(t.p,{children:['Because the timer components are lifecycle components, they only count down the time when they are active. By default,\nthe "Load" or "Transition" events start the lifecycle component in an unconfigured state. The "auto-configure" and\n"auto-activate" toggle switches can be used to enable or disable\n',(0,i.jsx)(t.a,{href:"/docs/concepts/building-blocks/components#auto-lifecycle-events",children:"auto-lifecycle events"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"When both toggle switches are enabled, the YAML code will show the corresponding events for the components:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"    events:\n      transitions:\n        on_load:\n          lifecycle:\n            component: timer\n            transition: configure\n        on_configure:\n          lifecycle:\n            component: timer\n            transition: activate\n"})}),"\n",(0,i.jsx)(t.p,{children:"Disabling one or both auto-lifecycle event switches will also remove the corresponding events from the YAML, while\nenabling the switch will regenerate the event in the YAML."}),"\n",(0,i.jsx)(t.h2,{id:"setting-component-parameters",children:"Setting component parameters"}),"\n",(0,i.jsx)(t.p,{children:'Component parameters can be edited directly in the settings panel. Change the value of the Timeout parameter and look\nfor the corresponding change in the code editor. Then press play on the application and observe that the timer now has a\ndifferent duration before triggering the "Is timed out" predicate.'}),"\n",(0,i.jsx)(t.h2,{id:"adding-and-deleting-elements",children:"Adding and deleting elements"}),"\n",(0,i.jsx)(t.p,{children:'Elements can be added to the graph using the sidebar menu; press the (+) button in the top right corner of the graph to\nopen the sidebar and see a list of available application elements. At the top of the list are the "Hardware Interface",\n"Trigger Events Button", "Sequence" and "Condition" nodes. These are followed by a list of all available components from\nAICA Core and any additionally installed packages, grouped by package. Clicking on any element in the sidebar will\nautomatically add it to the graph.'}),"\n",(0,i.jsxs)(l.A,{groupId:"os",children:[(0,i.jsx)(c.A,{value:"linux",label:"Linux",children:(0,i.jsx)(t.p,{children:"To delete an element from the graph, press the small menu icon in its top right corner, then click Remove. Elements can\nalso be deleted by selecting them with a click and pressing the Backspace key on your keyboard."})}),(0,i.jsx)(c.A,{value:"mac",label:"macOS",children:(0,i.jsx)(t.p,{children:"To delete an element from the graph, press the small menu icon in its top right corner, then click Remove. Elements can\nalso be deleted by selecting them with a click and pressing the Delete key on your keyboard."})})]}),"\n",(0,i.jsx)(t.p,{children:'For this example, let\'s add a "Trigger Events Button" to the timer application by clicking on it in the sidebar. A new\nbutton should appear on the graph and in the code. This is an interactive element that can be used to trigger events\nthrough mouse clicks and interact with the flow of the application.'}),"\n",(0,i.jsx)(t.p,{children:"The sidebar menu can be closed with the X icon or by clicking anywhere in the graph."}),"\n",(0,i.jsx)(t.p,{children:"Drag the button to change its position in the graph. This will also update the corresponding Trigger Events Button\nposition in the YAML code editor."}),"\n",(0,i.jsx)(t.h2,{id:"creating-and-deleting-event-edges",children:"Creating and deleting event edges"}),"\n",(0,i.jsx)(t.p,{children:"To create a new edge, move the mouse over an event source handle until the cursor changes to a targeting reticule. Then,\nclick and drag to create a draft edge. Pull it towards a target handle (on the top left of a component) until the cursor\nchanges again and the draft edge snaps in place, at which point you can let go of the mouse button. If the connection is\nvalid, it will create a new event edge with the default event (Load). Event source handles are found under transitions\nand predicates of a component and look like that:"}),"\n",(0,i.jsx)("div",{class:"text--center",children:(0,i.jsx)("img",{src:s,alt:"Event source handle"})}),"\n",(0,i.jsxs)(t.admonition,{type:"note",children:[(0,i.jsx)(t.p,{children:"All components also have a similar source handle icon on the top right. This handle is not an event source and cannot be\nconnected to target components or hardware with event edges. Instead, it is a condition source used to connect condition\nedges to condition and sequence inputs."}),(0,i.jsx)(t.p,{children:"Invalid edge connections will automatically be rejected."})]}),"\n",(0,i.jsx)(t.p,{children:'Create an event edge between the new trigger button and the Timer 2 component. The default event type for newly created\nedge is always "Load". To change the type of event that should be triggered, click on the event label on the edge to\nopen a selection menu showing other available event types (for example, Load, Unload, Configure...) and click on the\ndesired event. This will close the selection menu and update the YAML code accordingly.'}),"\n",(0,i.jsx)(t.p,{children:"For this example, choose the Deactivate event in order to pause the timer on click of the button."}),"\n",(0,i.jsx)("div",{class:"text--center",children:(0,i.jsx)("img",{src:r,alt:"Event edge"})}),"\n",(0,i.jsx)(t.p,{children:"Clicking on an edge also selects it, which is indicated by the increased line thickness. Clicking away from the edge\nwill deselect it. While the edge is selected, press the Delete key to delete the edge. This will also remove the\nevent from the YAML representation."}),"\n",(0,i.jsx)(t.p,{children:"Now add a second trigger button, create a new event edge to Timer 2 and choose the Activate event type."}),"\n",(0,i.jsx)("div",{class:"text--center",children:(0,i.jsx)("img",{src:h,alt:"Trigger buttons example"})}),"\n",(0,i.jsx)(t.h2,{id:"renaming-elements-in-the-graph",children:"Renaming elements in the graph"}),"\n",(0,i.jsx)(t.p,{children:'Both buttons now still have the default "Trigger Events Button" name, which may become confusing in larger applications.\nTo rename an element in the graph, click on the small menu icon in its top right corner, then click Rename. Give the two\nbuttons a new name: "Pause Timer" for the button with the Deactivate event, and "Play Timer" for the button with the\nActivate event.'}),"\n",(0,i.jsx)(t.p,{children:"Now, try to run the application again and use the Pause Timer and Play Timer trigger buttons to deactivate and activate\nTimer 2 while it is active. Verify that once deactivated, the elapsed time does not count towards the component timing\nout and it only times out once it has been in the active state for a total of 4 seconds. That is, deactivating the\ncomponent will freeze the timer until reactivation."}),"\n",(0,i.jsx)(t.p,{children:"Now that we learned to add buttons and create event edges, try to do the same for components. As an exercise, delete\nall elements from the graph and try to recreate this example from scratch using only the graph editor. Search for and\nadd the timer components from the sidebar, set the auto-lifecycle events, and connect the transition edges. Remember to\nset a timeout value in the component parameters."})]})}function f(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(v,{...e})}):v(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var a=n(6540);const i={},o=a.createContext(i);function r(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(o.Provider,{value:t},e.children)}},9329:(e,t,n)=>{n.d(t,{A:()=>r});n(6540);var a=n(8215);const i={tabItem:"tabItem_Ymn6"};var o=n(4848);function r(e){let{children:t,hidden:n,className:r}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,a.A)(i.tabItem,r),hidden:n,children:t})}}}]);