"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7209],{1903:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/orbbec-mounted-udev-volume-3c2c9a57452bf41fcb98d0f4b076a0d9.png"},5311:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>h,default:()=>g,frontMatter:()=>u,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"examples/guides/realsense-component","title":"RealSense camera component","description":"AICA\'s intel-realsense-collection package includes support for L515 and D4XX camera series from RealSense. This guide","source":"@site/docs/examples/guides/realsense-component.md","sourceDirName":"examples/guides","slug":"/examples/guides/realsense-component","permalink":"/docs/examples/guides/realsense-component","draft":false,"unlisted":false,"editUrl":"https://github.com/aica-technology/api/tree/main/docs/docs/examples/guides/realsense-component.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"RealSense camera component"},"sidebar":"examplesSidebar","previous":{"title":"Orbbec camera component","permalink":"/docs/examples/guides/orbbec-component"},"next":{"title":"Core Components","permalink":"/docs/category/core-components"}}');var r=t(4848),s=t(8453);t(5537),t(9329),t(1903);const l=t.p+"assets/images/realsense-new-app-9e27475db83c1ce503492b0e5e462ebd.gif",i=t.p+"assets/images/realsense-play-rviz-9efd4b29996a81905f334f3f139f4740.gif",o=t.p+"assets/images/realsense-camera-parameters-ffd94ec9c2730c70ccd39c3595b1df1a.png",c=t.p+"assets/images/realsense-temporal-params-61effbaa460e158bd71d14d1d5796a0f.png",d=t.p+"assets/images/realsense-collection-301b27993b40f2939fa90dcef2d426a9.gif",u={sidebar_position:7,title:"RealSense camera component"},h="RealSense camera component",p={},m=[{value:"Installation",id:"installation",level:2},{value:"Creating and running the example",id:"creating-and-running-the-example",level:2},{value:"Parametrizing the RealSense Camera component",id:"parametrizing-the-realsense-camera-component",level:2}];function f(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"realsense-camera-component",children:"RealSense camera component"})}),"\n",(0,r.jsxs)(n.p,{children:["AICA's ",(0,r.jsx)(n.code,{children:"intel-realsense-collection"})," package includes support for L515 and D4XX camera series from RealSense. This guide\ndescribes all necessary steps to install, configure and run the component using AICA Studio."]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"For now, the RealSense camera component has only been tested on Linux machines. Other platforms might be officially\nsupported in the future."})}),"\n",(0,r.jsx)(n.p,{children:"To ensure proper access to the camera device, special udev rules have to be applied to the Linux system the camera is\nconnected to. Run the following commands in a terminal:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone --branch v2.54.1 --depth 1 https://github.com/IntelRealSense/librealsense\ncd librealsense\nsudo ./scripts/setup_udev_rules.sh\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Start the AICA Launcher and add the ",(0,r.jsx)(n.code,{children:"intel-realsense-collection"})," package to your configuration."]}),"\n",(0,r.jsx)("div",{class:"text--center",children:(0,r.jsx)("img",{src:d,alt:"Adding the RealSense package"})}),"\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.strong,{children:"Launch AICA Studio"})," to proceed."]}),"\n",(0,r.jsx)(n.h2,{id:"creating-and-running-the-example",children:"Creating and running the example"}),"\n",(0,r.jsx)(n.p,{children:"Start by creating a new application."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Remove the hardware interface that is included in new applications by default."}),"\n",(0,r.jsxs)(n.li,{children:["Press the (+) button on the top right, and locate the ",(0,r.jsx)(n.strong,{children:"RealSense Camera"})," component. Click to add to the graph."]}),"\n",(0,r.jsx)(n.li,{children:"Next, connect the component to the start block."}),"\n"]}),"\n",(0,r.jsx)("div",{class:"text--center",children:(0,r.jsx)("img",{src:l,alt:"Creating a new RealSense Camera component"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["Press ",(0,r.jsx)(n.strong,{children:"Play"})," to start the application."]}),"\n",(0,r.jsxs)(n.li,{children:["To see the live camera feed, click on the gear icon on the bottom right and select ",(0,r.jsx)(n.strong,{children:"Launch RViz"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["In RViz, select ",(0,r.jsx)(n.em,{children:"Add > By topic > /realsense_camera/color_image_raw > Image"}),". This adds a panel that shows the live\ncolor image. The depth image can also be found under ",(0,r.jsx)(n.em,{children:"/realsense_camera/depth_image_rect_raw > Image"}),"."]}),"\n"]}),"\n",(0,r.jsx)("div",{class:"text--center",children:(0,r.jsx)("img",{src:i,alt:"Starting and checking camera live stream"})}),"\n",(0,r.jsx)(n.h2,{id:"parametrizing-the-realsense-camera-component",children:"Parametrizing the RealSense Camera component"}),"\n",(0,r.jsxs)(n.p,{children:["Click on the small gear icon on the ",(0,r.jsx)(n.code,{children:"RealSense Camera"})," block to view and edit the available parameters."]}),"\n",(0,r.jsx)("div",{class:"text--center",children:(0,r.jsx)("img",{src:o,alt:"Basic RealSense camera parameters"})}),"\n",(0,r.jsx)(n.p,{children:"Hovering over the exclamation marks next to the names shows a detailed description of the corresponding parameter. Let's\nexplain some of these here:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Color/Depth profile"}),": these refer to the resolution and frame rate of the color and depth images. Keep in mind that\nonly specific pairs of values apply here. For more information check the camera's documentation."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Enable alignment"}),": flag that activates the alignment of the depth image to the corresponding color image. Enables the\n",(0,r.jsx)(n.strong,{children:"Aligned depth image"})," output, containing a depth image with the same size as the color."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Enable temporal filter"}),": flag that activates a temporal filter which improves depth data persistency by manipulating\nper-pixel values based on previous frames. If activated, corresponding filter parameters can be directly defined in\nthe YAML editor to configure the filter behavior. To see what parameters can be defined, read the description by\nhovering over the exclamation mark."]}),"\n",(0,r.jsx)("div",{class:"text--center",children:(0,r.jsx)("img",{src:c,alt:"Threshold filter tooltip parameters"})}),"\n",(0,r.jsx)(n.p,{children:"If the additional parameters are not provided, default values will be used. For instance, activating and configuring\nthe temporal filter would look like this in the YAML editor:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"components:\n  realsense_camera:\n    component: realsense2_camera::RealSenseNodeFactory\n    display_name: RealSense Camera\n    parameters:\n      device_type: L515\n      temporal_filter.enable: true\n      temporal_filter.holes_fill: 1\n      temporal_filter.filter_smooth_alpha: 0.9\n      temporal_filter.filter_smooth_delta: 10\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["If needed, follow the same process to activate and configure other available filters. For more information and detailed\ndescription of the filters, check the\n",(0,r.jsx)(n.a,{href:"https://github.com/IntelRealSense/librealsense/blob/master/doc/post-processing-filters.md",children:"librealsense documentation"}),"."]})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},5537:(e,n,t)=>{t.d(n,{A:()=>w});var a=t(6540),r=t(8215),s=t(5627),l=t(6347),i=t(372),o=t(604),c=t(1861),d=t(8749);function u(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:r}}=e;return{value:n,label:t,attributes:a,default:r}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const r=(0,l.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(s),(0,a.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,s=h(e),[l,o]=(0,a.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:s}))),[c,u]=m({queryString:t,groupId:r}),[f,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,s]=(0,d.Dv)(t);return[r,(0,a.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:r}),b=(()=>{const e=c??f;return p({value:e,tabValues:s})?e:null})();(0,i.A)((()=>{b&&o(b)}),[b]);return{selectedValue:l,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),g(e)}),[u,g,s]),tabValues:s}}var g=t(9136);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(4848);function v(e){let{className:n,block:t,selectedValue:a,selectValue:l,tabValues:i}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const n=e.currentTarget,t=o.indexOf(n),r=i[t].value;r!==a&&(c(n),l(r))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>{o.push(e)},onKeyDown:u,onClick:d,...s,className:(0,r.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":a===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:s}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===s));return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=f(e);return(0,x.jsxs)("div",{className:(0,r.A)("tabs-container",b.tabList),children:[(0,x.jsx)(v,{...n,...e}),(0,x.jsx)(j,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,x.jsx)(y,{...e,children:u(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>i});var a=t(6540);const r={},s=a.createContext(r);function l(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(s.Provider,{value:n},e.children)}},9329:(e,n,t)=>{t.d(n,{A:()=>l});t(6540);var a=t(8215);const r={tabItem:"tabItem_Ymn6"};var s=t(4848);function l(e){let{children:n,hidden:t,className:l}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,l),hidden:t,children:n})}}}]);