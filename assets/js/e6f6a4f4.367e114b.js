"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[479],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),u=a,h=m["".concat(s,".").concat(u)]||m[u]||d[u]||r;return n?i.createElement(h,o(o({ref:t},c),{},{components:n})):i.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},7173:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const r={sidebar_position:4},o="A basic application example",l={unversionedId:"getting-started/timer-example",id:"getting-started/timer-example",title:"A basic application example",description:"Open the Developer Interface and copy the following application code into the text box under the Editor tab.",source:"@site/docs/getting-started/04-timer-example.md",sourceDirName:"getting-started",slug:"/getting-started/timer-example",permalink:"/api/docs/getting-started/timer-example",draft:!1,editUrl:"https://github.com/aica-technology/api/tree/main/docs/docs/getting-started/04-timer-example.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"gettingStartedSidebar",previous:{title:"Running the image",permalink:"/api/docs/getting-started/run"},next:{title:"Next steps",permalink:"/api/docs/getting-started/next"}},s={},p=[{value:"The example explained",id:"the-example-explained",level:2},{value:"Putting it all together",id:"putting-it-all-together",level:2}],c={toc:p},m="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(m,(0,i.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"a-basic-application-example"},"A basic application example"),(0,a.kt)("p",null,"Open the Developer Interface and copy the following application code into the text box under the Editor tab."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"components:\n  timer:\n    component: base_components::utilities::Timer\n    position:\n      x: 0\n      y: -300\n    parameters:\n      rate: 10\n      timeout: 2.5\n    events:\n      is_unconfigured:\n        lifecycle:\n          transition: configure\n          component: timer\n      is_inactive:\n        lifecycle:\n          transition: activate\n          component: timer\n      is_timed_out:\n        transition: timer_2\n\n  timer_2:\n    component: base_components::utilities::Timer\n    position:\n      x: 500\n      y: -300\n    parameters:\n      rate: 10\n      timeout: 2.5\n    events:\n      is_unconfigured:\n        lifecycle:\n          transition: configure\n          component: timer_2\n      is_inactive:\n        lifecycle:\n          transition: activate\n          component: timer_2\n      is_timed_out:\n        transition: timer\n\non_start:\n  load:\n    component: timer\n")),(0,a.kt)("p",null,"Then, press the Generate Graph button. The graph should show two components connected with event edges."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"timer example",src:n(3541).Z,width:"1972",height:"1002"})),(0,a.kt)("h2",{id:"the-example-explained"},"The example explained"),(0,a.kt)("p",null,"Application components are listed under the ",(0,a.kt)("inlineCode",{parentName:"p"},"components")," field. Each component has a name and a registration.\nThe position field is used just for rendering the component on the graph."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"  timer:\n    component: base_components::utilities::Timer\n    position:\n      x: 0\n      y: -300\n")),(0,a.kt)("p",null,"In this case, ",(0,a.kt)("inlineCode",{parentName:"p"},"base_components::utilities::Timer")," is the registration of a built-in AICA component. It is a lifecycle\ncomponent that starts a timer when the component is activated."),(0,a.kt)("p",null,"Thereafter, the initial component parameters are defined."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"    parameters:\n      rate: 10\n      timeout: 2.5\n")),(0,a.kt)("p",null,"All components have a ",(0,a.kt)("inlineCode",{parentName:"p"},"rate")," parameter which defines the frequency of periodic execution steps. The default rate for\ncomponents is 10 Hertz, so 10 times per second. The component rate can be increased or decreased to make a component run\nfaster or slower, respectively."),(0,a.kt)("p",null,"The timer component has a special parameter called ",(0,a.kt)("inlineCode",{parentName:"p"},"timeout"),', which is the duration in seconds that the timer should\nbe active. At the end of the timeout period, it will be in the "timed out" state.'),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"events")," field of a component associates component predicates with events."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"    events:\n      is_unconfigured:\n        lifecycle:\n          transition: configure\n          component: timer\n")),(0,a.kt)("p",null,"In this case, when the timer component is unconfigured, it triggers a lifecycle transition to configure the timer.\nSimilarly, the next event activates the timer when it is inactive:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"      is_inactive:\n        lifecycle:\n          transition: activate\n          component: timer\n")),(0,a.kt)("p",null,'When a lifecycle component configures or activates itself automatically, this is known as "auto-configure" and\n"auto-activate", respectively.'),(0,a.kt)("p",null,"Finally, the timer component has a special predicate ",(0,a.kt)("inlineCode",{parentName:"p"},"is_timed_out"),", which is internally associated with the ",(0,a.kt)("inlineCode",{parentName:"p"},"timeout"),"\nparameter."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"      is_timed_out:\n        transition: timer_2\n")),(0,a.kt)("p",null,"In this case, after the timer component has been active for 2.5 seconds, it triggers a transition event to ",(0,a.kt)("inlineCode",{parentName:"p"},"timer_2"),".\nThe ",(0,a.kt)("inlineCode",{parentName:"p"},"transition")," event from ",(0,a.kt)("inlineCode",{parentName:"p"},"timer")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"timer_2")," is a shorthand for unloading the first component and loading the\nsecond."),(0,a.kt)("p",null,"The second block describing ",(0,a.kt)("inlineCode",{parentName:"p"},"timer_2")," is nearly identical, as the two timers are intended to have symmetrical behavior."),(0,a.kt)("p",null,"The very end of the application uses the ",(0,a.kt)("inlineCode",{parentName:"p"},"on_start")," field to list the initial application events."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"on_start:\n  load:\n    component: timer\n")),(0,a.kt)("p",null,"In this case, when the application is launched, the ",(0,a.kt)("inlineCode",{parentName:"p"},"timer")," component should be loaded."),(0,a.kt)("h2",{id:"putting-it-all-together"},"Putting it all together"),(0,a.kt)("p",null,"Press the Play button to start the application."),(0,a.kt)("p",null,"When the application is started, the ",(0,a.kt)("inlineCode",{parentName:"p"},"timer")," component is loaded. It is initially unconfigured, which triggers it\nto be configured. Thereafter, it lands in the inactive lifecycle state, which triggers it to be activated.\nOnce activated, the timer starts running. After 2.5 seconds (as specified by the ",(0,a.kt)("inlineCode",{parentName:"p"},"timeout")," parameter),\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"is_timed_out")," predicate goes from false to true. As a result, the ",(0,a.kt)("inlineCode",{parentName:"p"},"transition")," event causes ",(0,a.kt)("inlineCode",{parentName:"p"},"timer")," to be unloaded\nand ",(0,a.kt)("inlineCode",{parentName:"p"},"timer_2")," to be loaded instead. The second timer then goes through the same steps of configuring and activating\nbefore transitioning back to the first timer."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"timer example (animated)",src:n(8282).Z,width:"800",height:"407"})))}d.isMDXComponent=!0},8282:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/timer-example-6e818c3281327a6cb40e126d87c30d4b.gif"},3541:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/timer-example-efc5a5c5527c5fd67f9847bee24afcaa.png"}}]);