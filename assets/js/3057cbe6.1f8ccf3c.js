"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[677],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=s(n),u=i,h=m["".concat(p,".").concat(u)]||m[u]||d[u]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[m]="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},7369:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var a=n(7462),i=(n(7294),n(3905));const r={sidebar_position:1},o="A basic application example",l={unversionedId:"getting-started/examples/timer-example",id:"getting-started/examples/timer-example",title:"A basic application example",description:"This example will show how components and predicate events can be used to create dynamic behavior in an AICA",source:"@site/docs/getting-started/05-examples/01-timer-example.md",sourceDirName:"getting-started/05-examples",slug:"/getting-started/examples/timer-example",permalink:"/docs/getting-started/examples/timer-example",draft:!1,editUrl:"https://github.com/aica-technology/api/tree/main/docs/docs/getting-started/05-examples/01-timer-example.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"gettingStartedSidebar",previous:{title:"Examples",permalink:"/docs/category/examples"},next:{title:"The application graph editor",permalink:"/docs/getting-started/examples/editor-example"}},p={},s=[{value:"Package requirements",id:"package-requirements",level:2},{value:"Setting up the application",id:"setting-up-the-application",level:2},{value:"The example explained",id:"the-example-explained",level:2},{value:"Run the application",id:"run-the-application",level:2}],c={toc:s},m="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(m,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"a-basic-application-example"},"A basic application example"),(0,i.kt)("p",null,"This example will show how components and predicate events can be used to create dynamic behavior in an AICA\napplication."),(0,i.kt)("h2",{id:"package-requirements"},"Package requirements"),(0,i.kt)("p",null,"This example requires only the ",(0,i.kt)("inlineCode",{parentName:"p"},"core")," image."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-toml",metastring:'title="aica-application.toml"',title:'"aica-application.toml"'},'#syntax=ghcr.io/aica-technology/app-builder:v2\n\n[core]\n"image" = "v3.3.0"\n')),(0,i.kt)("h2",{id:"setting-up-the-application"},"Setting up the application"),(0,i.kt)("p",null,"After starting the application container, open the Developer Interface on ",(0,i.kt)("inlineCode",{parentName:"p"},"localhost:8080")," and press New Application.\nCopy the following application code into the text box under the Editor tab, replacing the default content."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"on_start:\n  load:\n    component: timer\ncomponents:\n  timer:\n    component: base_components::utilities::Timer\n    position:\n      x: 200\n      y: -300\n    parameters:\n      rate: 10\n      timeout: 2.5\n    events:\n      is_unconfigured:\n        lifecycle: configure\n      is_inactive:\n        lifecycle: activate\n      is_timed_out:\n        transition: timer_2\n\n  timer_2:\n    component: base_components::utilities::Timer\n    position:\n      x: 700\n      y: -300\n    parameters:\n      rate: 10\n      timeout: 2.5\n    events:\n      is_unconfigured:\n        lifecycle: configure\n      is_inactive:\n        lifecycle: activate\n      is_timed_out:\n        transition: timer\n")),(0,i.kt)("p",null,"Then, press the Generate Graph button. The graph should show two components connected with event edges."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"timer example",src:n(8212).Z,width:"1972",height:"1002"})),(0,i.kt)("h2",{id:"the-example-explained"},"The example explained"),(0,i.kt)("p",null,"The application begins with the ",(0,i.kt)("inlineCode",{parentName:"p"},"on_start")," directive to list the initial application events."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"on_start:\n  load:\n    component: timer\n")),(0,i.kt)("p",null,"In this case, the first event that occurs in the application is to load the ",(0,i.kt)("inlineCode",{parentName:"p"},"timer")," component."),(0,i.kt)("p",null,"Application components are listed under the ",(0,i.kt)("inlineCode",{parentName:"p"},"components")," field. Each component has a name and a registration.\nThe position field is used just for rendering the component on the graph."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"  timer:\n    component: base_components::utilities::Timer\n    position:\n      x: 0\n      y: -300\n")),(0,i.kt)("p",null,"In this case, ",(0,i.kt)("inlineCode",{parentName:"p"},"base_components::utilities::Timer")," is the registration of a built-in AICA component. It is a lifecycle\ncomponent that starts a timer when the component is activated."),(0,i.kt)("p",null,"Thereafter, the initial component parameters are defined."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"    parameters:\n      rate: 10\n      timeout: 2.5\n")),(0,i.kt)("p",null,"All components have a ",(0,i.kt)("inlineCode",{parentName:"p"},"rate")," parameter which defines the frequency of periodic execution steps. The default rate for\ncomponents is 10 Hertz, so 10 times per second. The component rate can be increased or decreased to make a component run\nfaster or slower, respectively."),(0,i.kt)("p",null,"The timer component has a special parameter called ",(0,i.kt)("inlineCode",{parentName:"p"},"timeout"),', which is the duration in seconds that the timer should\nbe active. At the end of the timeout period, it will be in the "timed out" state.'),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"events")," field of a component associates component predicates with events."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"    events:\n      is_unconfigured:\n        lifecycle: configure\n")),(0,i.kt)("p",null,"In this case, when the timer component is unconfigured, it triggers a lifecycle transition to configure itself.\nSimilarly, the next event activates the timer when it is inactive:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"      is_inactive:\n        lifecycle: activate\n")),(0,i.kt)("p",null,'When a lifecycle component configures or activates itself automatically, this is known as "auto-configure" and\n"auto-activate", respectively.'),(0,i.kt)("p",null,"Finally, the timer component has a special predicate ",(0,i.kt)("inlineCode",{parentName:"p"},"is_timed_out"),", which is internally associated with the ",(0,i.kt)("inlineCode",{parentName:"p"},"timeout"),"\nparameter."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"      is_timed_out:\n        transition: timer_2\n")),(0,i.kt)("p",null,"In this case, after the timer component has been active for 2.5 seconds, it triggers a transition event to ",(0,i.kt)("inlineCode",{parentName:"p"},"timer_2"),".\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"transition")," event from ",(0,i.kt)("inlineCode",{parentName:"p"},"timer")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"timer_2")," is a shorthand for unloading the first component and loading the\nsecond."),(0,i.kt)("p",null,"The second block describing ",(0,i.kt)("inlineCode",{parentName:"p"},"timer_2")," is nearly identical, as the two timers are intended to have symmetrical behavior."),(0,i.kt)("h2",{id:"run-the-application"},"Run the application"),(0,i.kt)("p",null,"Press the Play button to start the application."),(0,i.kt)("p",null,"When the application is started, the ",(0,i.kt)("inlineCode",{parentName:"p"},"timer")," component is loaded. It is initially unconfigured, which triggers it\nto be configured. Thereafter, it lands in the inactive lifecycle state, which triggers it to be activated.\nOnce activated, the timer starts running. After 2.5 seconds (as specified by the ",(0,i.kt)("inlineCode",{parentName:"p"},"timeout")," parameter),\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"is_timed_out")," predicate goes from false to true. As a result, the ",(0,i.kt)("inlineCode",{parentName:"p"},"transition")," event causes ",(0,i.kt)("inlineCode",{parentName:"p"},"timer")," to be unloaded\nand ",(0,i.kt)("inlineCode",{parentName:"p"},"timer_2")," to be loaded instead. The second timer then goes through the same steps of configuring and activating\nbefore transitioning back to the first timer."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"timer example (animated)",src:n(9233).Z,width:"800",height:"407"})),(0,i.kt)("p",null,"Use the Pause button to keep the application in an idle state; components will remain loaded and active, but predicates\nand events will not be handled until the application is started again."),(0,i.kt)("p",null,"Use the Stop button to unload all components and reset the application."),(0,i.kt)("p",null,"Next, learn how to edit the application using the interactive graph editor."))}d.isMDXComponent=!0},9233:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/timer-example-6e818c3281327a6cb40e126d87c30d4b.gif"},8212:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/timer-example-efc5a5c5527c5fd67f9847bee24afcaa.png"}}]);